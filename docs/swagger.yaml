basePath: /
definitions:
  error.APIError:
    properties:
      message:
        type: string
      type:
        type: string
    type: object
  gorm.DeletedAt:
    properties:
      time:
        type: string
      valid:
        description: Valid is true if Time is not NULL
        type: boolean
    type: object
  types.Conversation:
    properties:
      bucket:
        type: string
      count:
        type: integer
      createdAt:
        type: string
      deletedAt:
        $ref: '#/definitions/gorm.DeletedAt'
      id:
        type: integer
      name:
        type: string
      owner:
        type: string
      updatedAt:
        type: string
    type: object
  types.Stat:
    properties:
      dailyAccounts:
        description: new created accounts at this day
        type: integer
      dailyBuckets:
        description: new created buckets at this day
        type: integer
      dailyNeedles:
        description: new created needles at this day
        type: integer
      dailyVolumes:
        description: new created volumes at this day
        type: integer
      day:
        type: string
      totalAccounts:
        description: total accounts until this day
        type: integer
      totalBuckets:
        description: total buckets until this day
        type: integer
      totalNeedles:
        description: total needles until this day
        type: integer
      totalVolumes:
        description: total volumes until this day
        type: integer
    type: object
host: localhost:8080
info:
  contact: {}
  description: This is a HUB API.
  title: HUB API
  version: 0.0.1
paths:
  /api/conversation:
    get:
      consumes:
      - application/json
      description: list all conversations or get conversation messages by conversation
        id
      parameters:
      - description: owner/account address
        in: query
        name: owner
        required: true
        type: string
      - description: bucket name
        in: query
        name: bucket
        type: string
      - description: conversation ID (empty means list all conversation ids)
        in: query
        name: name
        type: string
      - default: 0
        description: pagination offset
        in: query
        name: offset
        type: integer
      - default: 32
        description: number of items per page
        in: query
        name: length
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "599":
          description: ""
          schema:
            $ref: '#/definitions/error.APIError'
      summary: list conversations or get conversation messages by conversation id
      tags:
      - conversation
    post:
      consumes:
      - application/json
      description: list all conversations or get conversation messages by conversation
        id
      parameters:
      - description: owner/account address
        in: formData
        name: owner
        required: true
        type: string
      - description: bucket name
        in: formData
        name: bucket
        type: string
      - description: conversation ID (empty means list all conversation ids)
        in: formData
        name: name
        type: string
      - default: 0
        description: pagination offset
        in: formData
        name: offset
        type: integer
      - default: 32
        description: number of items per page
        in: formData
        name: length
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "599":
          description: ""
          schema:
            $ref: '#/definitions/error.APIError'
      summary: list conversations or get conversation messages by conversation id
      tags:
      - conversation
  /api/getAccount:
    get:
      consumes:
      - application/json
      description: get account information for a specific owner
      parameters:
      - description: account owner address
        in: query
        name: owner
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "599":
          description: ""
          schema:
            $ref: '#/definitions/error.APIError'
      summary: get account information
      tags:
      - account
  /api/getBucket:
    get:
      consumes:
      - application/json
      description: Retrieve detailed information for a specific bucket including metadata,
        storage statistics, and configuration settings. Returns bucket display information
        with owner details, creation time, and current status.
      parameters:
      - description: Account owner address (wallet address or account identifier)
        in: query
        name: owner
        type: string
      - description: Bucket name (unique identifier within the owner's account)
        in: query
        name: bucket
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Bucket information including metadata, statistics, and configuration
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad request - missing or invalid parameters
          schema:
            $ref: '#/definitions/error.APIError'
        "404":
          description: Bucket not found
          schema:
            $ref: '#/definitions/error.APIError'
        "599":
          description: Internal server error
          schema:
            $ref: '#/definitions/error.APIError'
      summary: Get bucket information
      tags:
      - bucket
  /api/getConversation:
    get:
      consumes:
      - application/json
      description: get detailed information for a specific conversation
      parameters:
      - description: owner/account address
        in: query
        name: owner
        required: true
        type: string
      - description: bucket name (empty means search in all buckets)
        in: query
        name: bucket
        type: string
      - description: conversation ID
        in: query
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/types.Conversation'
            type: array
        "599":
          description: ""
          schema:
            $ref: '#/definitions/error.APIError'
      summary: get conversation details
      tags:
      - conversation
  /api/getNeedle:
    get:
      consumes:
      - application/json
      description: get needle information for a specific owner
      parameters:
      - default: '""'
        description: owner address
        in: query
        name: owner
        type: string
      - default: '""'
        description: bucket name
        in: query
        name: bucket
        type: string
      - default: '""'
        description: needle name
        in: query
        name: name
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "599":
          description: ""
          schema:
            $ref: '#/definitions/error.APIError'
      summary: get needle information
      tags:
      - needle
  /api/getVolume:
    get:
      consumes:
      - application/json
      description: get volume information for a specific owner
      parameters:
      - description: owner address
        in: query
        name: owner
        type: string
      - description: file name
        in: query
        name: file
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "599":
          description: ""
          schema:
            $ref: '#/definitions/error.APIError'
      summary: get volume information
      tags:
      - volume
  /api/listAccount:
    get:
      consumes:
      - application/json
      description: get a list of accounts with pagination support
      parameters:
      - default: 0
        description: pagination offset
        in: query
        name: offset
        type: integer
      - default: 32
        description: number of items per page
        in: query
        name: length
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "599":
          description: ""
          schema:
            $ref: '#/definitions/error.APIError'
      summary: list accounts
      tags:
      - account
    post:
      consumes:
      - application/json
      description: get a list of accounts with pagination support
      parameters:
      - default: 0
        description: pagination offset
        in: formData
        name: offset
        type: integer
      - default: 32
        description: number of items per page
        in: formData
        name: length
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "599":
          description: ""
          schema:
            $ref: '#/definitions/error.APIError'
      summary: list accounts
      tags:
      - account
  /api/listBucket:
    get:
      consumes:
      - application/json
      description: Retrieve a paginated list of buckets. If owner is specified, returns
        buckets owned by that account. If owner is empty, returns all buckets in the
        system. Supports pagination with configurable offset and page size. Returns
        bucket display information including names, creation times, and basic statistics.
      parameters:
      - default: '""'
        description: Owner address to filter buckets (leave empty to list all buckets)
        in: query
        name: owner
        type: string
      - default: 0
        description: Pagination offset - number of items to skip
        in: query
        minimum: 0
        name: offset
        type: integer
      - default: 32
        description: Number of items per page (max 100)
        in: query
        maximum: 100
        minimum: 1
        name: length
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Paginated list of buckets with metadata and statistics
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad request - invalid pagination parameters
          schema:
            $ref: '#/definitions/error.APIError'
        "599":
          description: Internal server error
          schema:
            $ref: '#/definitions/error.APIError'
      summary: List buckets with pagination
      tags:
      - bucket
    post:
      consumes:
      - application/x-www-form-urlencoded
      description: Retrieve a paginated list of buckets using POST method. If owner
        is specified, returns buckets owned by that account. If owner is empty, returns
        all buckets in the system. Supports pagination with configurable offset and
        page size. Returns bucket display information including names, creation times,
        and basic statistics. This POST variant is useful for complex filtering scenarios
        or when URL length limits are a concern.
      parameters:
      - default: '""'
        description: Owner address to filter buckets (leave empty to list all buckets)
        in: formData
        name: owner
        type: string
      - default: 0
        description: Pagination offset - number of items to skip
        in: formData
        minimum: 0
        name: offset
        type: integer
      - default: 32
        description: Number of items per page (max 100)
        in: formData
        maximum: 100
        minimum: 1
        name: length
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Paginated list of buckets with metadata and statistics
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad request - invalid pagination parameters
          schema:
            $ref: '#/definitions/error.APIError'
        "599":
          description: Internal server error
          schema:
            $ref: '#/definitions/error.APIError'
      summary: List buckets with pagination (POST)
      tags:
      - bucket
  /api/listConversation:
    get:
      consumes:
      - application/json
      description: list all conversations with detailed information for a specific
        owner and bucket
      parameters:
      - description: owner/account address
        in: query
        name: owner
        required: true
        type: string
      - description: bucket name (empty means list all conversations of owner)
        in: query
        name: bucket
        type: string
      - default: 0
        description: pagination offset
        in: query
        name: offset
        type: integer
      - default: 32
        description: number of items per page
        in: query
        name: length
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/types.Conversation'
            type: array
        "599":
          description: ""
          schema:
            $ref: '#/definitions/error.APIError'
      summary: list conversations with details
      tags:
      - conversation
  /api/listNeedle:
    get:
      consumes:
      - application/json
      description: get a list of needles for a specific owner with pagination support
      parameters:
      - default: '""'
        description: owner address
        in: query
        name: owner
        type: string
      - default: '""'
        description: bucket name
        in: query
        name: bucket
        type: string
      - default: 0
        description: pagination offset
        in: query
        name: offset
        type: integer
      - default: 32
        description: number of items per page
        in: query
        name: length
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "599":
          description: ""
          schema:
            $ref: '#/definitions/error.APIError'
      summary: list needles
      tags:
      - needle
    post:
      consumes:
      - application/json
      description: get a list of needles for a specific owner with pagination support
      parameters:
      - default: '""'
        description: owner address
        in: formData
        name: owner
        type: string
      - default: '""'
        description: bucket name
        in: formData
        name: bucket
        type: string
      - default: 0
        description: pagination offset
        in: formData
        name: offset
        type: integer
      - default: 32
        description: number of items per page
        in: formData
        name: length
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "599":
          description: ""
          schema:
            $ref: '#/definitions/error.APIError'
      summary: list needles
      tags:
      - needle
  /api/listVolume:
    get:
      consumes:
      - application/json
      description: get a list of volumes for a specific owner with pagination support
      parameters:
      - description: owner address
        in: query
        name: owner
        type: string
      - default: 0
        description: pagination offset
        in: query
        name: offset
        type: integer
      - default: 32
        description: number of items per page
        in: query
        name: length
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "599":
          description: ""
          schema:
            $ref: '#/definitions/error.APIError'
      summary: list volumes
      tags:
      - volume
    post:
      consumes:
      - application/json
      description: get a list of volumes for a specific owner with pagination support
      parameters:
      - description: owner address
        in: formData
        name: owner
        type: string
      - default: 0
        description: pagination offset
        in: formData
        name: offset
        type: integer
      - default: 32
        description: number of items per page
        in: formData
        name: length
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "599":
          description: ""
          schema:
            $ref: '#/definitions/error.APIError'
      summary: list volumes
      tags:
      - volume
  /api/stat:
    get:
      consumes:
      - application/json
      description: Get daily statistics for accounts, needles, and volumes using GET
        method
      parameters:
      - description: 'Number of days to return (default: 30)'
        in: query
        name: count
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Array of daily statistics
          schema:
            items:
              $ref: '#/definitions/types.Stat'
            type: array
        "400":
          description: Invalid count parameter
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Get statistics by GET
      tags:
      - statistics
    post:
      consumes:
      - application/x-www-form-urlencoded
      description: Get daily statistics for accounts, needles, and volumes using POST
        method
      parameters:
      - description: 'Number of days to return (default: 30)'
        in: formData
        name: count
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Array of daily statistics
          schema:
            items:
              $ref: '#/definitions/types.Stat'
            type: array
        "400":
          description: Invalid count parameter
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Get statistics by POST
      tags:
      - statistics
swagger: "2.0"
