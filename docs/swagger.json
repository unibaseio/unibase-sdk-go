{
    "swagger": "2.0",
    "info": {
        "description": "This is a HUB API.",
        "title": "HUB API",
        "contact": {},
        "version": "0.0.1"
    },
    "host": "localhost:8080",
    "basePath": "/",
    "paths": {
        "/api/conversation": {
            "get": {
                "description": "list all conversations or get conversation messages by conversation id",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "conversation"
                ],
                "summary": "list conversations or get conversation messages by conversation id",
                "parameters": [
                    {
                        "type": "string",
                        "description": "owner/account address",
                        "name": "owner",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "bucket name",
                        "name": "bucket",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "conversation ID (empty means list all conversation ids)",
                        "name": "name",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "default": 0,
                        "description": "pagination offset",
                        "name": "offset",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "default": 32,
                        "description": "number of items per page",
                        "name": "length",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    },
                    "599": {
                        "description": "",
                        "schema": {
                            "$ref": "#/definitions/error.APIError"
                        }
                    }
                }
            },
            "post": {
                "description": "list all conversations or get conversation messages by conversation id",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "conversation"
                ],
                "summary": "list conversations or get conversation messages by conversation id",
                "parameters": [
                    {
                        "type": "string",
                        "description": "owner/account address",
                        "name": "owner",
                        "in": "formData",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "bucket name",
                        "name": "bucket",
                        "in": "formData"
                    },
                    {
                        "type": "string",
                        "description": "conversation ID (empty means list all conversation ids)",
                        "name": "name",
                        "in": "formData"
                    },
                    {
                        "type": "integer",
                        "default": 0,
                        "description": "pagination offset",
                        "name": "offset",
                        "in": "formData"
                    },
                    {
                        "type": "integer",
                        "default": 32,
                        "description": "number of items per page",
                        "name": "length",
                        "in": "formData"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    },
                    "599": {
                        "description": "",
                        "schema": {
                            "$ref": "#/definitions/error.APIError"
                        }
                    }
                }
            }
        },
        "/api/getAccount": {
            "get": {
                "description": "get account information for a specific owner",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "account"
                ],
                "summary": "get account information",
                "parameters": [
                    {
                        "type": "string",
                        "description": "account owner address",
                        "name": "owner",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    },
                    "599": {
                        "description": "",
                        "schema": {
                            "$ref": "#/definitions/error.APIError"
                        }
                    }
                }
            }
        },
        "/api/getBucket": {
            "get": {
                "description": "Retrieve detailed information for a specific bucket including metadata, storage statistics, and configuration settings. Returns bucket display information with owner details, creation time, and current status.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "bucket"
                ],
                "summary": "Get bucket information",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Account owner address (wallet address or account identifier)",
                        "name": "owner",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Bucket name (unique identifier within the owner's account)",
                        "name": "bucket",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Bucket information including metadata, statistics, and configuration",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    },
                    "400": {
                        "description": "Bad request - missing or invalid parameters",
                        "schema": {
                            "$ref": "#/definitions/error.APIError"
                        }
                    },
                    "404": {
                        "description": "Bucket not found",
                        "schema": {
                            "$ref": "#/definitions/error.APIError"
                        }
                    },
                    "599": {
                        "description": "Internal server error",
                        "schema": {
                            "$ref": "#/definitions/error.APIError"
                        }
                    }
                }
            }
        },
        "/api/getConversation": {
            "get": {
                "description": "get detailed information for a specific conversation",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "conversation"
                ],
                "summary": "get conversation details",
                "parameters": [
                    {
                        "type": "string",
                        "description": "owner/account address",
                        "name": "owner",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "bucket name (empty means search in all buckets)",
                        "name": "bucket",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "conversation ID",
                        "name": "name",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/types.Conversation"
                            }
                        }
                    },
                    "599": {
                        "description": "",
                        "schema": {
                            "$ref": "#/definitions/error.APIError"
                        }
                    }
                }
            }
        },
        "/api/getNeedle": {
            "get": {
                "description": "get needle information for a specific owner",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "needle"
                ],
                "summary": "get needle information",
                "parameters": [
                    {
                        "type": "string",
                        "default": "\"\"",
                        "description": "owner address",
                        "name": "owner",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "default": "\"\"",
                        "description": "bucket name",
                        "name": "bucket",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "default": "\"\"",
                        "description": "needle name",
                        "name": "name",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    },
                    "599": {
                        "description": "",
                        "schema": {
                            "$ref": "#/definitions/error.APIError"
                        }
                    }
                }
            }
        },
        "/api/getVolume": {
            "get": {
                "description": "get volume information for a specific owner",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "volume"
                ],
                "summary": "get volume information",
                "parameters": [
                    {
                        "type": "string",
                        "description": "owner address",
                        "name": "owner",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "file name",
                        "name": "file",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    },
                    "599": {
                        "description": "",
                        "schema": {
                            "$ref": "#/definitions/error.APIError"
                        }
                    }
                }
            }
        },
        "/api/listAccount": {
            "get": {
                "description": "get a list of accounts with pagination support",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "account"
                ],
                "summary": "list accounts",
                "parameters": [
                    {
                        "type": "integer",
                        "default": 0,
                        "description": "pagination offset",
                        "name": "offset",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "default": 32,
                        "description": "number of items per page",
                        "name": "length",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    },
                    "599": {
                        "description": "",
                        "schema": {
                            "$ref": "#/definitions/error.APIError"
                        }
                    }
                }
            },
            "post": {
                "description": "get a list of accounts with pagination support",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "account"
                ],
                "summary": "list accounts",
                "parameters": [
                    {
                        "type": "integer",
                        "default": 0,
                        "description": "pagination offset",
                        "name": "offset",
                        "in": "formData"
                    },
                    {
                        "type": "integer",
                        "default": 32,
                        "description": "number of items per page",
                        "name": "length",
                        "in": "formData"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    },
                    "599": {
                        "description": "",
                        "schema": {
                            "$ref": "#/definitions/error.APIError"
                        }
                    }
                }
            }
        },
        "/api/listBucket": {
            "get": {
                "description": "Retrieve a paginated list of buckets. If owner is specified, returns buckets owned by that account. If owner is empty, returns all buckets in the system. Supports pagination with configurable offset and page size. Returns bucket display information including names, creation times, and basic statistics.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "bucket"
                ],
                "summary": "List buckets with pagination",
                "parameters": [
                    {
                        "type": "string",
                        "default": "\"\"",
                        "description": "Owner address to filter buckets (leave empty to list all buckets)",
                        "name": "owner",
                        "in": "query"
                    },
                    {
                        "minimum": 0,
                        "type": "integer",
                        "default": 0,
                        "description": "Pagination offset - number of items to skip",
                        "name": "offset",
                        "in": "query"
                    },
                    {
                        "maximum": 100,
                        "minimum": 1,
                        "type": "integer",
                        "default": 32,
                        "description": "Number of items per page (max 100)",
                        "name": "length",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Paginated list of buckets with metadata and statistics",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    },
                    "400": {
                        "description": "Bad request - invalid pagination parameters",
                        "schema": {
                            "$ref": "#/definitions/error.APIError"
                        }
                    },
                    "599": {
                        "description": "Internal server error",
                        "schema": {
                            "$ref": "#/definitions/error.APIError"
                        }
                    }
                }
            },
            "post": {
                "description": "Retrieve a paginated list of buckets using POST method. If owner is specified, returns buckets owned by that account. If owner is empty, returns all buckets in the system. Supports pagination with configurable offset and page size. Returns bucket display information including names, creation times, and basic statistics. This POST variant is useful for complex filtering scenarios or when URL length limits are a concern.",
                "consumes": [
                    "application/x-www-form-urlencoded"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "bucket"
                ],
                "summary": "List buckets with pagination (POST)",
                "parameters": [
                    {
                        "type": "string",
                        "default": "\"\"",
                        "description": "Owner address to filter buckets (leave empty to list all buckets)",
                        "name": "owner",
                        "in": "formData"
                    },
                    {
                        "minimum": 0,
                        "type": "integer",
                        "default": 0,
                        "description": "Pagination offset - number of items to skip",
                        "name": "offset",
                        "in": "formData"
                    },
                    {
                        "maximum": 100,
                        "minimum": 1,
                        "type": "integer",
                        "default": 32,
                        "description": "Number of items per page (max 100)",
                        "name": "length",
                        "in": "formData"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Paginated list of buckets with metadata and statistics",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    },
                    "400": {
                        "description": "Bad request - invalid pagination parameters",
                        "schema": {
                            "$ref": "#/definitions/error.APIError"
                        }
                    },
                    "599": {
                        "description": "Internal server error",
                        "schema": {
                            "$ref": "#/definitions/error.APIError"
                        }
                    }
                }
            }
        },
        "/api/listConversation": {
            "get": {
                "description": "list all conversations with detailed information for a specific owner and bucket",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "conversation"
                ],
                "summary": "list conversations with details",
                "parameters": [
                    {
                        "type": "string",
                        "description": "owner/account address",
                        "name": "owner",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "bucket name (empty means list all conversations of owner)",
                        "name": "bucket",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "default": 0,
                        "description": "pagination offset",
                        "name": "offset",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "default": 32,
                        "description": "number of items per page",
                        "name": "length",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/types.Conversation"
                            }
                        }
                    },
                    "599": {
                        "description": "",
                        "schema": {
                            "$ref": "#/definitions/error.APIError"
                        }
                    }
                }
            }
        },
        "/api/listNeedle": {
            "get": {
                "description": "get a list of needles for a specific owner with pagination support",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "needle"
                ],
                "summary": "list needles",
                "parameters": [
                    {
                        "type": "string",
                        "default": "\"\"",
                        "description": "owner address",
                        "name": "owner",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "default": "\"\"",
                        "description": "bucket name",
                        "name": "bucket",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "default": 0,
                        "description": "pagination offset",
                        "name": "offset",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "default": 32,
                        "description": "number of items per page",
                        "name": "length",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    },
                    "599": {
                        "description": "",
                        "schema": {
                            "$ref": "#/definitions/error.APIError"
                        }
                    }
                }
            },
            "post": {
                "description": "get a list of needles for a specific owner with pagination support",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "needle"
                ],
                "summary": "list needles",
                "parameters": [
                    {
                        "type": "string",
                        "default": "\"\"",
                        "description": "owner address",
                        "name": "owner",
                        "in": "formData"
                    },
                    {
                        "type": "string",
                        "default": "\"\"",
                        "description": "bucket name",
                        "name": "bucket",
                        "in": "formData"
                    },
                    {
                        "type": "integer",
                        "default": 0,
                        "description": "pagination offset",
                        "name": "offset",
                        "in": "formData"
                    },
                    {
                        "type": "integer",
                        "default": 32,
                        "description": "number of items per page",
                        "name": "length",
                        "in": "formData"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    },
                    "599": {
                        "description": "",
                        "schema": {
                            "$ref": "#/definitions/error.APIError"
                        }
                    }
                }
            }
        },
        "/api/listVolume": {
            "get": {
                "description": "get a list of volumes for a specific owner with pagination support",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "volume"
                ],
                "summary": "list volumes",
                "parameters": [
                    {
                        "type": "string",
                        "description": "owner address",
                        "name": "owner",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "default": 0,
                        "description": "pagination offset",
                        "name": "offset",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "default": 32,
                        "description": "number of items per page",
                        "name": "length",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    },
                    "599": {
                        "description": "",
                        "schema": {
                            "$ref": "#/definitions/error.APIError"
                        }
                    }
                }
            },
            "post": {
                "description": "get a list of volumes for a specific owner with pagination support",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "volume"
                ],
                "summary": "list volumes",
                "parameters": [
                    {
                        "type": "string",
                        "description": "owner address",
                        "name": "owner",
                        "in": "formData"
                    },
                    {
                        "type": "integer",
                        "default": 0,
                        "description": "pagination offset",
                        "name": "offset",
                        "in": "formData"
                    },
                    {
                        "type": "integer",
                        "default": 32,
                        "description": "number of items per page",
                        "name": "length",
                        "in": "formData"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    },
                    "599": {
                        "description": "",
                        "schema": {
                            "$ref": "#/definitions/error.APIError"
                        }
                    }
                }
            }
        },
        "/api/stat": {
            "get": {
                "description": "Get daily statistics for accounts, needles, and volumes using GET method",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "statistics"
                ],
                "summary": "Get statistics by GET",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "Number of days to return (default: 30)",
                        "name": "count",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Array of daily statistics",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/types.Stat"
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid count parameter",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            },
            "post": {
                "description": "Get daily statistics for accounts, needles, and volumes using POST method",
                "consumes": [
                    "application/x-www-form-urlencoded"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "statistics"
                ],
                "summary": "Get statistics by POST",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "Number of days to return (default: 30)",
                        "name": "count",
                        "in": "formData"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Array of daily statistics",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/types.Stat"
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid count parameter",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "error.APIError": {
            "type": "object",
            "properties": {
                "message": {
                    "type": "string"
                },
                "type": {
                    "type": "string"
                }
            }
        },
        "gorm.DeletedAt": {
            "type": "object",
            "properties": {
                "time": {
                    "type": "string"
                },
                "valid": {
                    "description": "Valid is true if Time is not NULL",
                    "type": "boolean"
                }
            }
        },
        "types.Conversation": {
            "type": "object",
            "properties": {
                "bucket": {
                    "type": "string"
                },
                "count": {
                    "type": "integer"
                },
                "createdAt": {
                    "type": "string"
                },
                "deletedAt": {
                    "$ref": "#/definitions/gorm.DeletedAt"
                },
                "id": {
                    "type": "integer"
                },
                "name": {
                    "type": "string"
                },
                "owner": {
                    "type": "string"
                },
                "updatedAt": {
                    "type": "string"
                }
            }
        },
        "types.Stat": {
            "type": "object",
            "properties": {
                "dailyAccounts": {
                    "description": "new created accounts at this day",
                    "type": "integer"
                },
                "dailyBuckets": {
                    "description": "new created buckets at this day",
                    "type": "integer"
                },
                "dailyNeedles": {
                    "description": "new created needles at this day",
                    "type": "integer"
                },
                "dailyVolumes": {
                    "description": "new created volumes at this day",
                    "type": "integer"
                },
                "day": {
                    "type": "string"
                },
                "totalAccounts": {
                    "description": "total accounts until this day",
                    "type": "integer"
                },
                "totalBuckets": {
                    "description": "total buckets until this day",
                    "type": "integer"
                },
                "totalNeedles": {
                    "description": "total needles until this day",
                    "type": "integer"
                },
                "totalVolumes": {
                    "description": "total volumes until this day",
                    "type": "integer"
                }
            }
        }
    }
}